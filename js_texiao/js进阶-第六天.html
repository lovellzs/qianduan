<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>js进阶-第六天 | JS进阶-网页特效</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    
    <link rel="prev" href="./js进阶-第五天.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book"  data-level="6" data-basepath="." data-revision="1500894032706">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         JS进阶-开篇
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="chapter1.html">
            
                
                    <a href="./chapter1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         js进阶-第一天
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="js进阶-第二天.html">
            
                
                    <a href="./js进阶-第二天.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         js进阶-第二天
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="js进阶-第三天.html">
            
                
                    <a href="./js进阶-第三天.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         js进阶-第三天
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="js进阶-第四天.html">
            
                
                    <a href="./js进阶-第四天.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         js进阶-第四天
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="js进阶-第五天.html">
            
                
                    <a href="./js进阶-第五天.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         js进阶-第五天
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="6" data-path="js进阶-第六天.html">
            
                
                    <a href="./js进阶-第六天.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         js进阶-第六天
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >JS进阶-网页特效</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_582">
                    
                        <h1 id="js---day6">js特效 - Day6</h1>
<h3 id="">一、闭包技术详解</h3>
<h3 id="11-"><strong>1.1 什么是闭包？</strong></h3>
<ul>
<li><p>闭包实际上是一种函数，所以闭包技术也是函数技术的一种；闭包能做的事情函数几乎都能做。</p>
</li>
<li><p>闭包技术花式比较多，用法也比较灵活，一般开发人员在学习闭包的时候都会遇到瓶颈，主要是因为闭包技术的分界线并不明显。几乎无法用一个特点去区分。</p>
</li>
</ul>
<ul>
<li><p>当一个内部函数被其外部函数之外的变量引用时，就形成了一个闭包。</p>
<pre><code>function A(){
   function B(){
       console.log(&quot;Hello XMG!&quot;);
   }
   return B;
}
var b = A();
b();//Hello XMG!
</code></pre></li>
<li><p>闭包的最大用处有两个：一个是可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。</p>
<p><img src="assets/144207f8e89e782813.jpg" alt=""></p>
</li>
</ul>
<h3 id="12--"><strong>1.2  </strong>封闭作用域</h3>
<ul>
<li><p><strong>JavaScript的GC机制</strong></p>
<ul>
<li>在javascript中，如果一个对象不再被引用，那么这个对象就会被GC回收，否则这个对象一直会保存在内存中。</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>封闭作用域</strong></p>
<ul>
<li>封闭作用域又称值为封闭空间，还有一个昵称叫小闭包，以及匿名函数自调。</li>
<li><p>基本结构：</p>
<pre><code>
(function(){})();
;(function(){})();
+(function(){})();
-(function(){})();
？(function(){})();
</code></pre></li>
</ul>
</li>
</ul>
<ul>
<li><strong>技法最大目的: 全局变量私有化 </strong></li>
<li><p><strong>技术优点：</strong></p>
<ul>
<li><p>不污染全局空间！</p>
</li>
<li><p>内部所有的临时变量执行完毕都会释放不占内存。</p>
</li>
<li><p>可以保存全局数据。</p>
</li>
<li><p>更新复杂变量。</p>
</li>
</ul>
</li>
</ul>
<h3 id="13--">1.3  作用域链</h3>
<ul>
<li><p>嵌套之间的函数会形成作用域链，每次对变量的访问实际上都是对整条作用域链的遍历查找。先查找最近的作用域，最后再查找全局作用域。如果在某个作用域找到了对量就会结束本次查找过程。</p>
</li>
<li><p><strong>思考？</strong></p>
<ul>
<li><strong>对于作用域全局作用域查找快，还是局部作用域查找快？ </strong></li>
<li>局部作用域查找要远远大于全局作用域查找的速度。所以高级的程序设计一般是尽量避免全局查找。</li>
<li>每次访问都是对作用域链的一次遍历查找其中全局作用域是最耗费时间的。</li>
</ul>
</li>
</ul>
<ul>
<li><strong>解决方案：</strong><ul>
<li>当前目标使用完以后，在退出作用域之前储存这个目标，就可以在下次取到上一次的目标。</li>
</ul>
</li>
</ul>
<ul>
<li><strong>补充：</strong><blockquote>
<p>变量的生命周期
任何一个变量在内存中都是一个引用，这个变量是有自己的生命周期。周期结束意味着被销毁。 一个变量在它当前的作用域内被声明那一刻相当于变量出生，整个当前作用域执行完毕并退出作用域相当于变量的寿命终止。</p>
</blockquote>
</li>
</ul>
<h3 id="14-">1.4 保存作用域</h3>
<ul>
<li><p>保存作用域是一种更高级的闭包技术，如果函数嵌套函数，那么内部的那个函数将形成作用域闭包。简单的说，这种闭包能够达到的好处就是让指令能够绑定一些全局数据去运行；</p>
</li>
<li><p><strong>基本结构：</strong></p>
</li>
</ul>
<pre><code>     var A=function(){
         return function(){};
     }
</code></pre><ul>
<li><p><strong>优点：</strong></p>
<ul>
<li><p>全局数据隐藏化</p>
</li>
<li><p>可以让某个指令运行时候绑定一些隐藏的全局数据在身上。</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>一句话： 将数据绑定在指令上运行，让指令不再依赖全局数据。</strong></li>
</ul>
<h3 id="">二、面向对象</h3>
<pre><code>
对象是什么？
对象就是带有属性和方法的数据类型！
</code></pre><p>任何一门高级语言都要面向对象，JavaScript则是基于原型的面向对象语言，因此，我们的思维要由<strong>面向过程</strong>转向<strong>面向对象</strong>：</p>
<p><img src="assets/Snip20161217_2.png" alt=""></p>
<p><strong>面向对象：</strong></p>
<p>面向对象里面：类和对象</p>
<p>类是对象的抽象，而对象是类的具体实例</p>
<p>一切事物皆对象 JavaScript 一切皆对象</p>
<pre><code>
 类 和 对象

 对象 女朋友
 小白 你有对象了吗？ 泛指 女朋友
 昨天陪你打LOL的那个女生是你对象吗？ 特指 某一个女朋友

 在座的有喜欢吃香蕉的吗？
 你手中那根香蕉熟了吗？ 特指对象（具体的实例）
</code></pre><p><strong>面向对象的特性：</strong></p>
<ul>
<li><p>抽象</p>
</li>
<li><ul>
<li>抽象就是忽略一个主题中与当前目标无关的那些方面，以便更充分地注意与当前目标有关的方面。</li>
</ul>
</li>
</ul>
<ul>
<li><p>封装</p>
</li>
<li><ul>
<li>封装是把过程和数据封闭起来，对数据的访问只能通过开放的接口。</li>
</ul>
</li>
</ul>
<ul>
<li><p>继承</p>
<ul>
<li>子类对象继承使用父类的属性和方法。</li>
</ul>
</li>
<li><p>多态</p>
</li>
<li><ul>
<li>多态是指两个或多个属于不同类的对象，对于同一个消息（方法调用）作出不同响应的方式。</li>
</ul>
<p><img src="assets/Snip20161220_5.png" alt=""></p>
</li>
</ul>
<h3 id="21--">2.1  构造函数</h3>
<blockquote>
<p>所有的构造函数有一个特点：首字母大写；</p>
<p>在js中我们可以理解为只要执行以后能够返回新的对象的函数就是构造函数。</p>
</blockquote>
<p>构造函数技巧的最大目的：创造完全独立的对象，互相之间不影响。</p>
<h3 id="22--new">2.2  关键词new</h3>
<ul>
<li><p>将一个函数变成对象并返回</p>
</li>
<li><p>在这个函数的内部将this指向函数本身。</p>
</li>
<li><p>new这个关键词实际上能够将任何函数直接变成一个对象。它只有在和构造函数配合的时候才有用，它相当于可以化简构造函数自己创造对象和返回对象的步骤。</p>
</li>
</ul>
<h3 id="23-constructor---prototype">2.3 构造器(constructor) 和 原型属性 (prototype)</h3>
<p>在任何一个对象中都有构造器和原型属性，包括原生的对象，比如： Date, Array等；</p>
<ul>
<li><p><strong>constructor   返回对创建此对象的 构造函数的引用</strong></p>
</li>
<li><p><strong>prototype   让我们有能力向对象添加属性和方法</strong></p>
<blockquote>
<p>prototype它的作用就是构造函数的一个共享库；在这个共享库里面存储的所有数据将来都会被所有的新对象公用。 这样大大降低了创建方法的成本。</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>原型共享库是谁使用的？</strong></p>
<ul>
<li>构造函数使用原型库，所有将来的对象共享这个原型库。</li>
<li>如果把方法都写在构造函数的原型库里面，将来还可以通过原型继续拓展。 、</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>原型的工作原理？</strong></p>
</li>
<li><ul>
<li>在网页发布以后，原型的工作会自动做以下两件事情：</li>
</ul>
</li>
</ul>
<pre><code>    第一：自动将原型库中的所有内容都放在将来的对象身上；
    第二：如果共享库中的内容发生变化会自动更新所有对象上的数据。
</code></pre><ul>
<li><p><strong>注意：</strong></p>
<ul>
<li><p>在面向对象的写法当中，原型的共享库里面所有的方法中的this默认情况都会指向将来的对象。</p>
</li>
<li><p>只有在两个情况会发生变化，那么这两个情况一定要检查作用域：</p>
</li>
</ul>
</li>
</ul>
<pre><code>     第一：如果在事件的作用域中，this的指向会变成事件源。
     第二：如果在定时器的作用域中，this的指向会变成window。
</code></pre><ul>
<li><strong>解决方案：备份指针 </strong></li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./js进阶-第五天.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: js进阶-第五天"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
